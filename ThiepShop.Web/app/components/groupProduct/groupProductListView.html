<section class="content-header">
    <h1>
        Danh mục sản phẩm
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Trang chủ</a></li>
        <li class="active">Danh mục sản phẩm</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <!-- Default box -->
    <div class="box">
        <div class="box-header with-border">
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse">
                    <i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
                    <i class="fa fa-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="col-md-4">
                    <div class="input-group">
                        <input type="text" class="form-control" ng-model="keyword" ng-change="getGroupProduct()" placeholder="Tìm kiếm...">
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="getGroupProduct()" type="button">Tìm kiếm</button>
                        </span>
                    </div>

                </div>
                <div class="col-md-8"><button class="btn btn-danger pull-right" ng-click="deleteMultiple()" id="btnDelete" disabled style="margin-right:10px">Xóa</button>

                    <button class="btn btn-success pull-right" ui-sref="groupProduct_add({id:{{idMenu}}})"><i class="glyphicon glyphicon-plus-sign" style="margin-right:10px"></i>    Thêm mới</button>
                </div>
                </div>
            <div class="box-header with-border">
            </div>                
            <div class="row">
                    <div class="col-md-12">
                        <table class="table table-bordered">
                            <tr>
                                <th style="width: 5%"><input name="all" type="checkbox" ng-click="selectAll()" /></th>
                                <th style="width: 40%">Tên danh mục</th>
                                <th style="width: 25%">Nhóm cha</th>
                                <th style="width: 5%">Hiển thị</th>
                                <th style="width: 5%">Trang chủ</th>
                                <th style="width: 6%">STT</th>
                                <th style="width: 10%">Thao tác</th>
                            </tr>
                            <tr ng-repeat="item in groupProduct" ng-style="item.Active === true ? {opacity:'1' } : { opacity:'0.3'}">
                                <td><input type="checkbox" ng-model="item.checked" name="all" /></td>
                                <td><a ui-sref="groupProduct({id:item.id})" title="{{item.Name}}">{{item.Name}}</a></td>
                                <td>
                                    <select type="text" name="ParentID" class="form-control" ng-model="item.ParentID" ng-change="changeMenu(item.id,item.ParentID)">
                                        <option value="">-- Danh mục cha --</option>
                                        <option ng-repeat="item in flatFolders" ng-value="{{item.id }}" value="{{item.id }}">
                                            {{item.indent}} {{item.name}}
                                        </option>
                                    </select>
                                    <input name="ParentID" type="hidden" ng-model="item.ParentID" />
                                </td>
                                <td style="text-align:center">
                                    <span ng-click="updateMutil(item.id,item.Active)" ng-style="item.Active === true ? {color:'green',cursor: 'pointer',top:'5px' } : { color:'black',cursor: 'pointer',top:'5px'}" class="glyphicon glyphicon-ok"></span>

                                </td>

                                <td style="text-align:center">

                                    <span ng-click="updateMutil(item.id,null,item.Priority,null)"ng-style="item.Priority === true ? {color:'green',cursor: 'pointer',top:'5px' } : { color:'black',cursor: 'pointer',top:'5px'}" class="glyphicon glyphicon-ok"></span>

                                </td>
                                <td>
                                    <input ng-change="updateMutil(item.id,null,null,item.Ord)" type="text" class="form-control" ng-model="item.Ord" />
                                </td>
                                <td class="btn-lg text-center">
                                    <a ui-sref="groupProduct_edit({id:item.id})" title="{{item.Name}}"><i class="glyphicon glyphicon-edit"></i></a>

                                    <a ng-click="deleteGroupProduct(item.id,item.Name)" title="" style="color:black" ><i class="glyphicon glyphicon-remove-circle"></i></a>
                                </td>
                            </tr>
                            <tfoot>
                                <tr>
                                    <td colspan="7"><span class="pull-right">Trang : {{page+1}} - Tổng số bản ghi : {{totalCount}}</span></td>
                                </tr>
                            </tfoot>

                        </table>
                    </div>
                </div>
            </div>
        <div class="box-footer">
            <pager-directive page="{{page}}" custom-path="{{customPath}}" pages-count="{{pagesCount}}" total-count="{{totalCount}}" search-func="getGroupProduct(page)"></pager-directive>
        </div>
    </div>
    <!-- /.box -->
</section>